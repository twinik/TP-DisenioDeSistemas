{{#partial "btn-volver"}}
    <a href="/registro" class="fixed top-4 left-4 z-10">
        <button class="px-6 py-3 text-sm lg:text-lg font-medium text-white azulIntermedio rounded-lg hover:bg-blue-900 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-opacity-50 shadow-md">
            Volver
        </button>
    </a>
{{/partial}}

{{#partial "contenido"}}
    <div class="flex justify-center items-center min-h-screen py-12 px-4 sm:px-6 lg:px-8 bg-gray-900">
        <div class="w-full max-w-md space-y-8">
            <div>
                <h1 class="title1 mb-6 text-center text-3xl font-extrabold text-white">Registro</h1>
                {{#if message}}
                    <p id="error-message"
                       class="p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-100 border border-red-400">{{message}}</p>
                {{/if}}
            </div>
            <form id="form-juridico" method="post" action="" class="mt-8 space-y-6">
                <div class="space-y-4">
                    <div>
                        <label for="razon_social" class="block text-sm font-medium text-gray-300">Razón social</label>
                        <input type="text" id="razon_social" name="razonSocial" required
                               class="mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            {{#if datosForm.razonSocial}}
                               value="{{datosForm.razonSocial}}"
                            {{/if}}
                               placeholder="Nombre">
                    </div>

                    <div>
                        <label for="underline_select" class="block text-sm font-medium text-gray-300">Tipo de
                            Organización</label>
                        <select id="underline_select" name="tipoOrganizacion" required
                                class="mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            {{#each tiposOrganizacion}}
                                <option value="{{this.valor}}">{{this.valor}}</option>
                            {{/each}}
                        </select>
                    </div>

                    <div>
                        <label for="rubro" class="block text-sm font-medium text-gray-300">Rubro</label>
                        <input type="text" id="rubro" name="rubro" required
                               class="mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            {{#if datosForm.rubro}}
                               value="{{datosForm.rubro}}"
                            {{/if}}
                               placeholder="Rubro">
                    </div>

                    <div>
                        <label for="floating_email" class="block text-sm font-medium text-gray-300">Email</label>
                        <input type="email" id="floating_email" name="email" required
                               class="mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            {{#if datosForm.usuarioDto.email}}
                               value="{{datosForm.usuarioDto.email}}"
                            {{/if}}
                               placeholder="Email">
                    </div>

                    <div>
                        <label for="floating_password"
                               class="block text-sm font-medium text-gray-300">Contraseña</label>
                        <input type="password" id="floating_password" name="password" required
                               class="mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                               placeholder="Contraseña">
                    </div>

                    <div>
                        <label for="floating_repeat_password" class="block text-sm font-medium text-gray-300">Confirmar
                            contraseña</label>
                        <input type="password" id="floating_repeat_password" name="passConf" required
                               class="mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                               placeholder="Confirmar contraseña">
                    </div>

                    <div class="space-y-4">
                        <span class="block text-sm font-medium text-gray-300">Dirección</span>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label for="calle" class="block text-sm font-medium text-gray-300">Calle</label>
                                <input type="text" id="calle" name="calle"
                                       class="mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    {{#if datosForm.direccion.calle}}
                                       value="{{datosForm.direccion.calle}}"
                                    {{/if}}
                                       placeholder="Calle">
                            </div>
                            <div>
                                <label for="altura" class="block text-sm font-medium text-gray-300">Altura</label>
                                <input type="number" id="altura" name="altura"
                                       class="mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    {{#if datosForm.direccion.altura}}
                                       value="{{datosForm.direccion.altura}}"
                                    {{/if}}
                                       placeholder="Altura">
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label for="piso" class="block text-sm font-medium text-gray-300">Piso</label>
                                <input type="number" id="piso" name="piso"
                                       class="mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    {{#if datosForm.direccion.piso}}
                                       value="{{datosForm.direccion.piso}}"
                                    {{/if}}
                                       placeholder="Piso">
                            </div>
                            <div>
                                <label for="codigo-postal" class="block text-sm font-medium text-gray-300">Código
                                    postal</label>
                                <input type="text" id="codigo-postal" name="cp"
                                       class="mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    {{#if datosForm.direccion.codigoPostal}}
                                       value="{{datosForm.direccion.codigoPostal}}"
                                    {{/if}}
                                       placeholder="Código postal">
                            </div>
                        </div>
                    </div>

                    <div>
                        <span class="block text-sm font-medium text-gray-300 mb-2">Formas de colaboración</span>
                        <div class="grid grid-cols-2 gap-2">
                            {{#each formasColaboracion}}
                                <div class="flex items-center">
                                    <input id="forma-{{@index}}" name="forma-{{@index}}" type="checkbox"
                                           value="{{this.id}}"
                                           class="w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500">
                                    <label for="forma-{{@index}}"
                                           class="ml-2 text-sm text-gray-300">{{this.desc}}</label>
                                </div>
                            {{/each}}
                        </div>
                    </div>

                    <input type="hidden" name="cant-formas" id="cant-formas" value="{{formasColaboracion.length}}">

                    <div id="mediosContactoContainer" class="space-y-4">
                        <div>
                            <label for="medio-contacto-1" class="block text-sm font-medium text-gray-300">Canal de
                                Contacto 1</label>
                            <select id="medio-contacto-1" name="canal-1"
                                    class="mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <option value="Whatsapp">Whatsapp</option>
                                <option value="Email">Mail</option>
                                <option value="Telegram">Telegram</option>
                            </select>
                        </div>
                        <div>
                            <label for="contacto-1" class="block text-sm font-medium text-gray-300">Contacto 1</label>
                            <input type="text" id="contacto-1" name="contacto-1" required
                                   class="mt-1 block w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                   placeholder="Nro de teléfono o Email">
                        </div>
                    </div>

                    <button type="button" onclick="nuevoMedioContacto()"
                            class="text-sm font-medium text-blue-500 hover:text-blue-400 focus:outline-none focus:underline">
                        Agregar medio de contacto +
                    </button>

                    <input type="hidden" name="cantidad-contactos" id="cantidad-contactos" value="1">
                </div>

                <button id="enviar-juridico" type="submit"
                        class="w-full px-6 py-3 text-sm font-medium text-white botonFormularios rounded-lg hover:bg-blue-900 transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-opacity-50">
                    Registrarse
                </button>
            </form>
        </div>
    </div>
{{/partial}}

{{#partial "scripts"}}
    <script src="/js/input-contactos.js"></script>
    <script src="/js/form-handler.js"></script>
    <script>
        handleFormSubmit('form-juridico', 'enviar-juridico');
    </script>
{{/partial}}

{{> templates/auth/base }}