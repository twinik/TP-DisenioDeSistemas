{{#partial "btn-volver"}}
    <div class="flex">
        <a href="/heladeras">
            <button
                    class="m-4 px-6 py-3 text-sm lg:text-lg font-medium tracking-wide text-white capitalize transition-colors duration-300 transform azulIntermedio rounded-lg hover:bg-blue-900 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50"
            >
                Volver
            </button>
        </a>
    </div>
{{/partial}}

{{#partial "contenido"}}
    <div class="p-5 mx-auto max-w-4xl">
        <h1 class="text-3xl font-bold text-gray-800 mb-6">Reportar Falla Técnica</h1>
        <h2 class="text-2xl font-semibold text-gray-700 mb-8">{{heladera.nombre}}</h2>
        <form id="mi-form" action="" method="post" enctype="multipart/form-data" class="space-y-6">
            <div class="space-y-4">
                <label for="descripcion" class="block text-sm font-medium text-gray-700">Descripción de la falla</label>
                <textarea
                        id="descripcion"
                        name="descripcion"
                        rows="4"
                        class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 shadow-sm"
                        placeholder="Describe detalladamente la falla encontrada"
                        required
                ></textarea>
            </div>

            <!-- Input Fotografia -->
            <div class="space-y-4">
                <label for="dropzone-file" class="block text-sm font-medium text-gray-700">Fotografía (Opcional)</label>
                <label for="dropzone-file"
                       class="flex flex-col items-center w-full max-w-lg p-5 mx-auto mt-2 text-center bg-white border-2 border-gray-300 border-dashed cursor-pointer hover:bg-gray-50 rounded-xl transition duration-300 ease-in-out">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                         stroke="currentColor" class="w-8 h-8 text-gray-500">
                        <path stroke-linecap="round" stroke-linejoin="round"
                              d="M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.233-2.33 3 3 0 013.758 3.848A3.752 3.752 0 0118 19.5H6.75z"/>
                    </svg>
                    <h2 class="mt-1 font-medium tracking-wide text-gray-700">
                        Adjuntar fotografía
                    </h2>
                    <p class="mt-2 text-xs tracking-wide text-gray-500">
                        Puedes adjuntar una fotografía que ayude a describir la falla.
                    </p>
                    <input id="dropzone-file" type="file" name="file" class="hidden" accept="image/*"/>
                </label>
                <div id="image-preview" class="mt-4 hidden flex justify-center">
                    <img id="preview" src="#" alt="Vista previa de la imagen"
                         class="max-w-full h-auto rounded-lg shadow-lg"/>
                </div>
            </div>

            <input type="hidden" name="heladera-id" value="{{heladera.id}}"/>

            <button id="enviar-id" type="submit"
                    class="w-full px-6 py-3 text-base font-medium text-center text-white botonFormularios rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 transition duration-300 ease-in-out shadow-md hover:shadow-lg">
                Reportar Falla
            </button>
        </form>
    </div>
{{/partial}}

{{#partial "scripts"}}
    <script src="/js/carga-imagen-producto.js"></script>
    <script src="/js/form-handler.js"></script>
    <script>
        handleFormSubmit('mi-form','enviar-id');
    </script>
{{/partial}}

{{> templates/app/base}}